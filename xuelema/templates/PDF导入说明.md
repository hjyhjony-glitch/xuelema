# PDF试卷导入说明

## 支持的PDF格式

| PDF类型 | 识别准确度 | 说明 |
|---------|-----------|------|
| 纯文本PDF | 95%+ | 直接从文本层提取，准确度最高 |
| 扫描版PDF | 70-80% | 通过OCR识别，准确度受图像质量影响 |
| 混合PDF | 85-90% | 包含文本和图像层的PDF |

## 导入流程

```
1. 选择PDF文件
    ↓
2. 系统分析PDF类型
    ↓
3. 提取文本内容
    ↓
4. 智能解析题目结构
    ↓
5. 转换为标准试题格式
    ↓
6. 预览确认
    ↓
7. 导入题库
```

## 格式要求

### 最佳格式

**选择题格式（推荐）：**
```
1. 下列关于光的说法正确的是（  ）
   A. 光在真空中不能传播
   B. 光年是时间单位
   C. 光速是宇宙中最快的速度
   D. 光的反射定律适用于所有表面
   答案：C
   解析：光可以在真空中传播，光年是距离单位...
```

**编号格式支持：**
- `1. `、`2. `、`3. ` 数字点号
- `（1）`、`（2）` 括号编号
- `A. `、`B. `、`C. ` 选项编号
- `第1题`、`第2章` 章节编号

### 题目要素（按识别优先级）

| 要素 | 识别规则 |
|------|----------|
| 题目 | 编号后面的主要内容 |
| 选项 | A. B. C. D. 开头的行 |
| 答案 | "答案："、"【答案】"标注 |
| 解析 | "解析："、"【解析】"标注 |
| 科目 | 自动识别：语文/数学/英语/物理/化学/生物/政治/历史/地理 |
| 年级 | 自动识别：一年级~高三 |

## 准确度优化技巧

### 提升扫描版PDF准确度

1. **选择清晰的扫描件**
   - 分辨率不低于 300 DPI
   - 无明显倾斜或阴影
   - 文字清晰可读

2. **避免以下情况**
   - 手写体试卷
   - 模糊或压缩过的图片
   - 有大面积水印的文档
   - 多栏排版未合并的单栏扫描

### 提升纯文本PDF准确度

1. **保持标准格式**
   - 使用统一编号体系
   - 选项与题目换行分隔
   - 答案单独成行

2. **推荐模板**
   ```json
   {
     "编号": "1.",
     "题目": "题目内容",
     "选项": ["A. 选项1", "B. 选项2", "C. 选项3", "D. 选项4"],
     "答案": "C",
     "解析": "解析内容（可选）"
   }
   ```

## 常见问题

### Q: 识别结果有偏差怎么办？

**解决方法：**
1. 点击右上角「重试」按钮重新提取
2. 预览时手动校对题目内容
3. 建议使用Excel/CSV格式批量导入

### Q: 扫描版PDF识别率低？

**可能原因：**
- 扫描质量差
- PDF文件损坏
- 页面倾斜或阴影

**建议：**
- 重新扫描为高质量PDF
- 使用OCR软件预处理后另存为PDF
- 联系提供方获取清晰版本

### Q: 如何导入多页PDF？

**当前版本支持：**
- 自动提取所有页面的文本
- 合并为统一题目列表
- 按出现顺序排列题目

## 注意事项

1. **文件大小限制**
   - 单个文件不超过 50MB
   - 建议页数不超过 100 页

2. **版权声明**
   - 请确保您有权限导入该试卷内容
   - 仅供个人学习使用

3. **数据安全**
   - 文件仅在本地处理，不上传服务器
   - 导入完成后可安全删除原文件

## 技术实现

- **文本提取**: `pdf_text_extractor`
- **PDF预览**: `flutter_pdfview`
- **备用解析**: `pdf` 包

## 反馈与建议

如遇到导入问题，请：
1. 记录错误信息
2. 提供PDF样本（非敏感内容）
3. 联系技术支持
